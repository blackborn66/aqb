= AQB TODO
Guenter Bartsch <guenter@zamia.org>
v0.7.0alpha2, 2021-09-08

== BUGS


== Documentation

- online help
    * parser
    * viewer
    * port reference doc
    * add tutorial

DONE translate forum posts, add useful information to README

== Language Concepts

- subprograms

    * check forward decl formal types
    * varargs

- WIP OOP ? (VB / FreeBASIC)

- enums

- assignment operators (+=, *=, ...)

- C like strings (tbd)

== Compiler, Code Generation

- scanner: support multiple instances (IDE uses separate scanner instance)

- code generator
    * proc calls: only save registers that carry live values
    * use movem to save/restore registers
    * only save/restore registers on proc entry/exit that are actually used inside
    * peephole optimizer
    * cache (var) pointer temps
    * escape analysis: keep local variables in registers only (m68kframe inReg)
    * optimizing assembler (32 bit condition jumps, clr., ...)
    * frame/var size >32KByte support
    * register arguments
    * SSA (static single assignment) intermediate form
    * backend abstraction layer, enable alternative backends (RISC-V, ARM, x86, LLVM, ...)
    * if / condition constant propagation (test w/ while)
    * fix spilling
    * translate.c: add #0, tmp ; mul *1 ; div / 1 ; ...
    * optionally: initialize all variables to 0?
    * T_Cast that results in NOP or simple MOVE: introduce T_TypeView node

- create Icons for Binaries

== Runtime

- DONE startup code: workbench startup

- startup code: command line args

- Exec error handling / traps
    * division by zero

- Memory management / garbage collection ? / DEALLOCATE

- string handling

- DONE CTRL+C to stop the program at any time

- source level debugging

- DONE tetris game freezes after some 3 minutes (ressource leak? )

== IDE

- block operations
    * mark
    * cut/copy/paste

- linux TUI file dialog

- find/replace dialog
    * replace
    * port TUI to amiga gadtools

- horizontal scrolling

- mouse cursor positioning

- DONE workbench arguments (double click source code -> open file in IDE)

== Core Commands

-      ABS()
- DONE AND
-      ASC()
- DONE ATN()
-      BREAK ON
-      BREAK OFF
-      BREAK STOP
- DONE CALL
-      CBDL()
-      CHDIR
- DONE CHR$()
- DONE CINT()
-      CLEAR
-      CLNG()
-      CLOSE
-      COMMON
- DONE COS()
-      CSNG()
-      CVD()
-      CVI()
-      CVL()
-      CVS()
- DONE DATA
-      DATE$()
- DONE DECLARE FUNCTION
- DONE DECLARE SUB
-      DEF FN
-      DEFDBL
- DONE DEFINT
- DONE DEFLNG
- DONE DEFSNG
- DONE DEFSTR
- DONE DIM
- DONE END
-      EOF()
- DONE EQV
- DONE ERASE
-      ERL
- DONE ERR
- DONE ERROR
- DONE EXP()
-      FIELD
-      FILES
- DONE FIX()
- DONE FOR...NEXT
- DONE FRE()
-      GET#
- DONE GOSUB
- DONE GOTO
-      HEX$()
- DONE IF
-      IMP
- DONE INPUT
-      INPUT$()
-      INPUT #
-      INSTR()
- DONE INT()
-      KILL
- DONE LBOUND()
-      LEFT$()
- DONE LEN()
- DONE LET
-      LIBRARY
-      LIBRARY CLOSE
- DONE LINE INPUT
-      LINE INPUT#
-      LLIST
-      LOC()
-      LOF()
- DONE LOG()
-      LPOS()
-      LSET
-      MID$()
-      MKI$()
-      MKL$()
-      MKS$()
-      MKD$()
- DONE MOD
-      NAME
- DONE NEXT
- DONE NOT
-      OCT$()
-      ON BREAK
- DONE ON ERROR
-      ON GOSUB
-      ON GOTO
-      OPEN
-      OPTION BASE
-      OR
- DONE PEEK()
- DONE PEEKL()
- DONE PEEKW()
- DONE POKE
- DONE POKEL
- DONE POKEW
-      PUT
- DONE RANDOMIZE
- DONE READ
- DONE REM
- DONE RESTORE
-      RESUME
- DONE RETURN
-      RIGHT$()
- DONE RND()
-      RSET
-      SADD()
-      SAVE
-      SGN()
-      SHARED
- DONE SIN()
-      SPACE$()
-      SPC()
- DONE STATIC
- DONE STR$()
-      STRING$()
-      SUB
-      SWAP
- DONE SYSTEM
-      TAB()
- DONE TAN()
-      TIME$()
- DONE UBOUND()
-      UCASE$()
- DONE VAL()
- DONE VARPTR()
- DONE WEND
- DONE WHILE
-      WIDTH
-      WRITE

== AmigaBASIC Specific Commands

- DONE AREA
- DONE AREAFILL
- DONE AREA OUTLINE
-      BEEP
-      CIRCLE
- DONE CLS
-      COLLISION ON
-      COLLISION OFF
-      COLLISION STOP
-      COLLISION()
- DONE COLOR
- DONE CSRLIN()
- DONE GET
- DONE INKEY$
- DONE LINE
- DONE LOCATE
-      LPRINT
-      MENU
-      MENU RESET
-      MENU ON
-      MENU OFF
-      MENU SOP
-      MENU()
-      MOUSE ON
-      MOUSE OFF
-      MOUSE STOP
-      MOUSE()
-      OBJECT.AX
-      OBJECT.AY
-      OBJECT.CLOSE
-      OBJECT.HIT
-      OBJECT.OFF
-      OBJECT.ON
-      OBJECT.PRIORITY
-      OBJECT.SHAPE
-      OBJECT.START
-      OBJECT.STOP
-      OBJECT.VX
-      OBJECT.VX()
-      OBJECT.VY
-      OBJECT.VY()
-      OBJECT.X
-      OBJECT.X()
-      OBJECT.Y
-      OBJECT.Y()
-      ON COLLISION
-      ON MENU
- DONE ON MOUSE
- DONE ON TIMER
- DONE PAINT
- DONE PALETTE
- DONE PATTERN
-      POINT
- DONE POS
- DONE PRINT
-      PRINT USING
-      PRESET
- DONE PSET
-      PTAB
- DONE PUT [STEP]
-      SAY
- DONE SCREEN
- DONE SCREEN CLOSE
-      SCROLL
- DONE SLEEP
-      SOUND
-      SOUND WAIT
-      SOUND RESUME
-      STICK()
-      STRIG()
- DONE TIMER ON
- DONE TIMER OFF
-      TIMER STOP
-      TRANSLATE$()
-      WAVE
-      WIDTH LPRINT
- DONE WINDOW
- DONE WINDOW CLOSE
- DONE WINDOW OUTPUT
- DONE WINDOW()

== Examples / Demos / Libraries

- EGads

- Benchmarks: sieve, fractals

- AMIGA hand

- ISO game engine

- BASICPaint

- Linked List

- Function Plotter
    * 2D
    * 3D

- CCGames

- M&T Book Examples

- AMOS / Blitz Libraries

== IDE

- DONE auto-indent
- DONE save
- DONE compile/run
-      memory management
-      help system
- DONE amiga menus
- DONE DEL
- DONE search
-      replace
-      block operations
- DONE goto line
- DONE show compiler error messages
-      terminal: use uint16_t where possible
